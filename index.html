<html lang="en">

<head>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css">
</head>

<body>
    <div id="root"></div>
    <script id="sample-code" type="text/mono">concat(items) {
    let c = []
    for (itemIndex, 0, len(items)) {
        for (i, 0, len(items[itemIndex])) {
            push(c, items[itemIndex][i])
        }
    }
    return c
}

range(n) {
    let ret = []
    for (i, 0, n) {
        push(ret, i)
    }
    return ret
}

map(list, func) {
    let ret = []
    for (i, 0, len(list)) {
        push(ret, func(list[i], i))
    }
    return ret
}

getSpace {
    return 32
}

makeTask(taskDescription) {
    return [taskDescription]
}

addSubtask(task, subtask) {
    push(task, subtask)
}

addPaddingToTask(taskDescription, depth, hasChildren) {
    
    let result = concat([
            map(range(depth * 4), getSpace), 
            taskDescription
        ])
    
    if (hasChildren) {
        push(result, 58)
    }
    
    return result
}

printTask(task, depth) {
    prints(
        addPaddingToTask(
            task[0], 
            depth, 
            len(task) - 1
        )
    )
    for (i, 1, len(task)) {
        printTask(task[i], depth + 1)
    }
}

main {

    let todo = makeTask('learn mono')
    addSubtask(todo, makeTask('expressions'))
    addSubtask(todo, makeTask('statements'))
    let functionsTask = makeTask('functions')
    addSubtask(
        functionsTask, 
        makeTask('the stack')
    )
    addSubtask(
        functionsTask, 
        makeTask('the heap')
    )
    addSubtask(todo, functionsTask)
    addSubtask(todo, makeTask('that`s it!'))
    printTask(todo, 0)
    
}</script>
    <script>
        modules = {}
    </script>
    <script src='lang/lexer.js'></script>
    <script src='lang/parserScopeHelper.js'></script>
    <script src='lang/parser.js'></script>
    <script src='lang/evaluateHelpers.js'></script>
    <script src='lang/evaluate.js'></script>
    <script src='lang/executor.js'></script>
    <script src='lang/debugger.js'></script>
    <script src='ui/ha.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
    <script src='ui/ui.js'></script>
</body>

</html>